# backend/app/services/news_stub.py
from datetime import date

def list_news(q: str | None = None) -> list[dict]:
    items = [
        {
            "id": 1,
            "date_label": "Сегодня",
            "title": "В рекламе энергетиков надо сообщать о вреде их чрезмерного потребления — проект прошёл первое чтение",
            "excerpt": "Согласно поправкам, в рекламе безалкогольных тонизирующих напитков должно быть предупреждение о вреде...",
            "url": "#"
        },
        {
            "id": 2,
            "date_label": "Сегодня",
            "title": "Новые требования к маркировке нативной рекламы вступят в силу",
            "excerpt": "Регулятор уточнил формат ссылок и правила обозначения рекламных материалов в соцсетях.",
            "url": "#"
        },
        {
            "id": 3,
            "date_label": "Вчера",
            "title": "Суды разъяснили ответственность за вводящую в заблуждение скидку",
            "excerpt": "Опубликовано определение по делу об указании завышенной «старой» цены без фактических продаж.",
            "url": "#"
        },
    ]
    if q:
        ql = q.strip().lower()
        items = [x for x in items if ql in x["title"].lower() or ql in x["excerpt"].lower()]
    return items
