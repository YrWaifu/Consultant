from matcher import Matcher

haystacks = [
    # 1. Фрукты
    {"head": "Фрукты", "body":
        "Сочные яблоки и спелые бананы - идеальный перекус для здоровья. Фрукты содержат витамины, клетчатку и антиоксиданты, которые укрепляют иммунитет и улучшают пищеварение. Регулярное потребление свежих фруктов снижает риск хронических заболеваний."},

    # 2. Овощи и физиология
    {"head": "Овощи и физиология", "body":
        "Овощи играют ключевую роль в физиологии человека. Брокколи и шпинат богаты железом и витамином K, необходимым для кроветворения. Морковь улучшает зрение благодаря бета-каротину, а чеснок поддерживает сердечно-сосудистую систему."},

    # 3. Технологии
    {"head": "Технологии", "body":
        "Современные смартфоны оснащены процессорами последнего поколения и OLED-дисплеями. Искусственный интеллект оптимизирует работу батареи и камеры, делая устройства более эффективными и умными с каждым обновлением."},

    # 4. Путешествия
    {"head": "Путешествия", "body":
        "Путешествие по горным тропам Альп предлагает незабываемые виды и чистый воздух. Пешие маршруты проходят через живописные деревни и альпийские луга, где можно познакомиться с местной культурой и кухней."},

    # 5. Кулинария
    {"head": "Кулинария", "body":
        "Приготовление домашней пасты требует специальной муки и свежих яиц. Тесто раскатывается тонким слоем и нарезается на традиционные тальятелле. Соус болоньезе готовится из говяжьего фарша, томатов и ароматных трав."},

    # 6. Спорт
    {"head": "Спорт", "body":
        "Силовые тренировки в тренажерном зале развивают мышечную массу и повышают выносливость. Правильная техника выполнения упражнений с гантелями и штангой предотвращает травмы и обеспечивает равномерный рост мышц."},

    # 7. Образование
    {"head": "Образование", "body":
        "Дистанционное обучение через онлайн-платформы стало популярным форматом образования. Студенты изучают программирование, маркетинг и дизайн с помощью интерактивных курсов и вебинаров с опытными преподавателями."
     },
    # 8. Искусство
    {"head": "Музыка", "body":
        "Картины маслом в стиле импрессионизма характеризуются яркими мазками и игрой света. Художники используют специальные кисти и палитры для создания атмосферных пейзажей и портретов, передающих эмоции и настроение."},

    # 9. Автомобили
    {"head": "Автомобили", "body":
        "Электрические автомобили нового поколения оснащены мощными аккумуляторами и системами автономного вождения. Зарядные станции быстрой зарядки позволяют восстановить запас хода за 30 минут, делая эксплуатацию удобной."},

    # 10. Музыка
    {"head": "Музыка", "body":
        "Акустические гитары из красного дерева производят теплый и насыщенный звук. Профессиональные музыканты ценят инструменты ручной работы за их уникальный тембр и отзывчивость при игре пальцевой техникой."}
]

# Таргеты для поиска (разного уровня сложности)
targets = [
    # Одиночные слова
    "яблоки", "бананы", "витамины", "клетчатка", "иммунитет",
    "овощи", "брокколи", "морковь", "физиология", "железо",
    "смартфоны", "процессоры", "искусственный интеллект", "батарея",
    "путешествия", "Альпы", "горные тропы", "деревни",
    "кулинария", "паста", "соус", "томаты", "мука",
    "тренировки", "гантели", "штанга", "мышцы",
    "образование", "онлайн-курсы", "программирование", "вебинары",
    "искусство", "импрессионизм", "масляные краски", "пейзажи",
    "автомобили", "электрические", "аккумуляторы", "зарядка",
    "гитары", "акустические", "звук", "музыканты",

    # Словосочетания
    "свежие фрукты", "хронические заболевания", "пищеварительная система",
    "сердечно-сосудистая система", "бета-каротин", "OLED-дисплеи",
    "горный воздух", "местная кухня", "домашняя паста",
    "силовые упражнения", "дистанционное обучение", "интерактивные платформы",
    "художественные техники", "автономное вождение", "быстрая зарядка",
    "пальцевая техника", "красное дерево",

    # Полные предложения
    "Фрукты содержат полезные витамины и антиоксиданты",
    "Овощи улучшают зрение и укрепляют здоровье",
    "Современные технологии делают устройства умнее",
    "Горные путешествия предлагают живописные виды",
    "Приготовление итальянской пасты требует навыков",
    "Регулярные тренировки развивают мышечную массу",
    "Онлайн-образование доступно через интернет",
    "Картины маслом передают эмоции художника",
    "Электромобили заряжаются за 30 минут",
    "Акустические гитары производят теплый звук"
]
matcher = Matcher()
matcher.fit(haystacks)
counter = 1
for target in targets:
    relevant_articles = matcher.predict_relevance(target, 5)

    print(counter, "\t", "target:", target,
          [[article['article'], article['similarity']] for article in relevant_articles], sep=" ", end="\n")
    counter += 1